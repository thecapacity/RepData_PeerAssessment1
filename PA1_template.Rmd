---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

### Setup some defaults
```{r setoptions, echo=FALSE}
library(knitr)
opts_chunk$set(echo = TRUE, fig.path="figure/", dev="png")
```

Note, some global defaults for the RMarkdown processing are set, but not shown, to ensure code chunks are always visible for peer review.

### Loading and preprocessing the data

```{r}
library(data.table)
unzip("activity.zip")
my_data <- read.csv("activity.csv")
my_data$date <- as.Date(my_data['date'][,], format="%Y-%m-%d")
my_data$interval <- as.factor(my_data$interval)
my_data <- data.table(my_data) ##Used for grouping
str(my_data)
```

For post-processing dates are converted into a ```r class(my_data$date)``` object and the intervals are converted into a ```r class(my_data$interval)```, and a ```r class(my_data)``` object is used to facilitate further analysis.

**Next we will explore the data with a series of questions:**  
1. What is the mean total number of steps taken per day?  
2. What is the average daily activity pattern?  
3. Imputing missing values  
4. Are there differences in activity patterns between weekdays and weekends?  

### 1: What is mean total number of steps taken per day?

    For this part of the assignment, you can ignore the missing values in the dataset.  
        1. Make a histogram of the total number of steps taken each day  
        2. Calculate and report the mean and median total number of steps taken per day  

For this section, it was assumed that 'ignoring' ```NA``` values meant accepting the default behavior (e.g. when graphing) or excluding them from the calculations.

1. A histogram of the data is:
```{r}
hist(tapply(my_data[['steps']], my_data[['date']], sum), breaks=15,
    ylab = "Frequency", xlab="Steps", 
    main = "Total Daily Steps by Frequency")
```

2a. The mean value for the data is:
```{r}
mean(my_data[['steps']][ !is.na(my_data[['steps']])])
```

An alternative method of calculation would be: ```mean(my_data[['steps']], na.rm=TRUE)``` and also yields the same result: ```r mean(my_data[['steps']], na.rm=TRUE)```

2b. The median value for the data is:
```{r}
median(my_data[['steps']], na.rm=TRUE)
```

### 2: What is the average daily activity pattern?

The average daily activity pattern is calculated by summarizing the average activity per day, and then visualized via a graph, with the overall daily average, rounded to 2 decimal points, represented as a horizontal line.

```{r}
averages <- my_data[, mean(steps), by=c("date")]
overall_average <- mean(averages[['V1']], na.rm=TRUE)

plot(averages, 
    ylab="Ave. Steps",
    xlab="Date")
title("Average Steps per Day")
abline(h=overall_average, col=2)
```

The overall average is ```r overall_average```.


### 3: Imputing missing values


### 4: Are there differences in activity patterns between weekdays and weekends?

